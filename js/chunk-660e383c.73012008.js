(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-660e383c"],{"4de4":function(t,e,c){"use strict";var o=c("23e7"),n=c("b727").filter,r=c("1dde"),a=r("filter");o({target:"Array",proto:!0,forced:!a},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},6914:function(t,e,c){},"94dd":function(t,e,c){"use strict";c("6914")},d416:function(t,e,c){"use strict";c.r(e);var o=c("7a23"),n={class:"py-5 container d-flex flex-column justify-content-between"},r={class:"d-flex justify-content-between align-items-center mb-3"},a={class:"d-flex align-items-center"},l=Object(o["h"])("h2",{class:"me-4"},"課程列表",-1),i=Object(o["h"])("i",{class:"fas fa-plus me-2 text-secondary"},null,-1),s=Object(o["g"])("新增課程 "),d=Object(o["h"])("i",{class:"fas fa-sign-out-alt h2"},null,-1),u={class:"table table-borderless table-hover"},b=Object(o["h"])("thead",null,[Object(o["h"])("tr",{class:"h4 border-bottom"},[Object(o["h"])("th",{scope:"col"},[Object(o["g"])("分類"),Object(o["h"])("i",{class:"fas fa-arrow-down text-primary ml-2"})]),Object(o["h"])("th",{scope:"col"},"課程標題"),Object(o["h"])("th",{scope:"col"},"價格"),Object(o["h"])("th",{scope:"col"},"啟用"),Object(o["h"])("th",{scope:"col"},"刪除"),Object(o["h"])("th",{scope:"col"},"修改")])],-1),p={key:0},h=Object(o["h"])("i",{class:"far fa-check-square text-success h3"},null,-1),O={key:1},j=Object(o["h"])("i",{class:"far fa-times-circle h3 text-warning"},null,-1),m=Object(o["h"])("i",{class:"fas fa-trash-alt"},null,-1),f=Object(o["h"])("i",{class:"fas fa-pen"},null,-1);function g(t,e,c,g,v,y){var P=Object(o["A"])("Checkdele"),k=Object(o["A"])("Addedit"),w=Object(o["A"])("Pagination");return Object(o["v"])(),Object(o["d"])("section",n,[Object(o["h"])("div",null,[Object(o["h"])("div",r,[Object(o["h"])("div",a,[l,Object(o["h"])("button",{type:"button",class:"ms-5 btn btn-outline-dark",onClick:e[1]||(e[1]=function(t){return y.openModal(!0)})},[i,s])]),Object(o["h"])("a",{href:"#",class:"text-dark",onClick:e[2]||(e[2]=function(){return y.logOut&&y.logOut.apply(y,arguments)})},[d])]),Object(o["h"])("table",u,[b,Object(o["h"])("tbody",null,[(Object(o["v"])(!0),Object(o["d"])(o["a"],null,Object(o["z"])(v.products,(function(t){return Object(o["v"])(),Object(o["d"])("tr",{class:"h4",key:t.id},[Object(o["h"])("td",null,Object(o["D"])(t.category),1),Object(o["h"])("td",null,Object(o["D"])(t.title),1),Object(o["h"])("td",null,Object(o["D"])(t.price),1),t.is_enabled?(Object(o["v"])(),Object(o["d"])("td",p,[h])):(Object(o["v"])(),Object(o["d"])("td",O,[j])),Object(o["h"])("td",null,[Object(o["h"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return y.checkDelete(t)}},[m],8,["onClick"])]),Object(o["h"])("td",null,[Object(o["h"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:function(e){return y.openModal(!1,t)}},[f],8,["onClick"])])])})),128))])])]),Object(o["h"])(P,{product:v.product,onDeleteProduct:y.deleteProduct,loading:v.loadingStatus,ref:"check"},null,8,["product","onDeleteProduct","loading"]),Object(o["h"])(k,{product:v.product,ref:"addedit",onRender:y.getProducts},null,8,["product","onRender"]),Object(o["h"])(w,{class:"d-flex justify-content-center",page:v.pagination,onGet_product:y.getProducts},null,8,["page","onGet_product"])])}c("b64b"),c("a4d3"),c("4de4"),c("e439"),c("159b"),c("dbb4");function v(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}function y(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,o)}return c}function P(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?y(Object(c),!0).forEach((function(e){v(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):y(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}c("99af");var k={"aria-label":"Page navigation example"},w={class:"pagination mb-0 pb-0 "};function x(t,e,c,n,r,a){return Object(o["v"])(),Object(o["d"])("nav",k,[Object(o["h"])("ul",w,[Object(o["h"])("li",{class:["page-item",{disabled:1===c.page.current_page}]},[Object(o["h"])("a",{class:"page-link text-dark",href:"#",onClick:e[1]||(e[1]=Object(o["P"])((function(e){return t.$emit("get_product",c.page.current_page-1)}),["prevent"]))},"Previous")],2),(Object(o["v"])(!0),Object(o["d"])(o["a"],null,Object(o["z"])(c.page.total_pages,(function(e){return Object(o["v"])(),Object(o["d"])("li",{class:["page-item",{active:e===c.page.current_page}],key:e},[Object(o["h"])("a",{class:"page-link  text-dark",href:"#",onClick:Object(o["P"])((function(c){return t.$emit("get_product",e)}),["prevent"])},Object(o["D"])(e),9,["onClick"])],2)})),128)),Object(o["h"])("li",{class:["page-item",{disabled:c.page.current_page===c.page.total_pages}]},[Object(o["h"])("a",{class:"page-link text-dark",href:"#",onClick:e[2]||(e[2]=Object(o["P"])((function(e){return t.$emit("get_product",c.page.page_current+1)}),["prevent"]))},"Next")],2)])])}var U={props:["page"],template:"",created:function(){console.log(this.page)}};c("94dd");U.render=x;var _=U,C=c("1ae3"),D=(c("e01a"),{id:"productModal",ref:"modal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"}),M={class:"modal-dialog modal-xl"},$={class:"modal-content border-0"},V=Object(o["h"])("div",{class:"modal-header bg-dark text-white"},[Object(o["h"])("h5",{id:"productModalLabel",class:"modal-title"},[Object(o["h"])("span",null,"新增課程"),Object(o["h"])("span",null,"編輯課程")]),Object(o["h"])("button",{type:"button",class:"close","data-bs-dismiss":"modal","aria-label":"Close"},[Object(o["h"])("span",{"aria-hidden":"true"},"×")])],-1),J={class:"modal-body"},A={class:"row"},S={class:"col-sm-4"},I={class:"form-group"},N=Object(o["h"])("label",{for:"imageUrl"},"主要圖片",-1),z=Object(o["h"])("div",{class:"mb-1"},"多圖新增",-1),G={key:0},L={class:"form-group"},E=Object(o["h"])("label",{for:"imageUrl"},"圖片網址",-1),R={key:0},q={key:1},B={key:1},T={class:"col-sm-8"},F={class:"form-group"},H=Object(o["h"])("label",{for:"title"},"課程標題",-1),K={class:"row"},Q={class:"form-group col-md-6"},W=Object(o["h"])("label",{for:"category"},"課程分類",-1),X=Object(o["h"])("option",{disabled:"",selected:""},"請選擇分類",-1),Y=Object(o["h"])("option",null,"語文",-1),Z=Object(o["h"])("option",null,"程式",-1),tt=Object(o["h"])("option",null,"商業",-1),et=Object(o["h"])("option",null,"醫護",-1),ct=Object(o["h"])("option",null,"公職",-1),ot={class:"form-group col-md-6"},nt=Object(o["h"])("label",{for:"price"},"授課講師",-1),rt=Object(o["h"])("option",{disabled:"",selected:""},"請選擇講師",-1),at=Object(o["h"])("option",null,"呼嚕貓",-1),lt=Object(o["h"])("option",null,"達文西",-1),it=Object(o["h"])("option",null,"馬斯克",-1),st=Object(o["h"])("option",null,"習維尼",-1),dt=Object(o["h"])("option",null,"特斯拉",-1),ut=Object(o["h"])("option",null,"字母哥",-1),bt=Object(o["h"])("option",null,"金正恩",-1),pt={class:"row"},ht={class:"form-group col-md-6"},Ot=Object(o["h"])("label",{for:"origin_price"},"課堂時數",-1),jt={class:"form-group col-md-6"},mt=Object(o["h"])("label",{for:"price"},"售價",-1),ft=Object(o["h"])("hr",null,null,-1),gt={class:"form-group"},vt=Object(o["h"])("label",{for:"description"},"課程描述",-1),yt={class:"form-group"},Pt=Object(o["h"])("label",{for:"content"},"課程內容",-1),kt={class:"form-group"},wt={class:"form-check"},xt=Object(o["h"])("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),Ut={class:"modal-footer"},_t=Object(o["h"])("div",{class:"spinner-border",role:"status"},[Object(o["h"])("span",{class:"visually-hidden"},"Loading...")],-1);function Ct(t,e,c,n,r,a){return Object(o["v"])(),Object(o["d"])("div",D,[Object(o["h"])("div",M,[Object(o["h"])("div",$,[V,Object(o["h"])("div",J,[Object(o["h"])("div",A,[Object(o["h"])("div",S,[Object(o["h"])("div",I,[N,Object(o["O"])(Object(o["h"])("input",{type:"text",class:"form-control",placeholder:"請輸入圖片連結","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.tempProduct.imageUrl=t})},null,512),[[o["J"],r.tempProduct.imageUrl]]),Object(o["h"])("img",{class:"img-fluid",src:r.tempProduct.imageUrl},null,8,["src"])]),z,Array.isArray(r.tempProduct.imagesUrl)?(Object(o["v"])(),Object(o["d"])("div",G,[(Object(o["v"])(!0),Object(o["d"])(o["a"],null,Object(o["z"])(r.tempProduct.imagesUrl,(function(t,e){return Object(o["v"])(),Object(o["d"])("div",{class:"mb-1",key:e},[Object(o["h"])("div",L,[E,Object(o["O"])(Object(o["h"])("input",{type:"text",class:"form-control",placeholder:"請輸入圖片連結","onUpdate:modelValue":function(t){return r.tempProduct.imagesUrl[e]=t}},null,8,["onUpdate:modelValue"]),[[o["J"],r.tempProduct.imagesUrl[e]]])]),Object(o["h"])("img",{class:"img-fluid",src:t},null,8,["src"])])})),128)),!r.tempProduct.imagesUrl.length||r.tempProduct.imagesUrl[r.tempProduct.imagesUrl.length-1]?(Object(o["v"])(),Object(o["d"])("div",R,[Object(o["h"])("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:e[2]||(e[2]=function(t){return r.tempProduct.imagesUrl.push("")})}," 新增圖片 ")])):(Object(o["v"])(),Object(o["d"])("div",q,[Object(o["h"])("button",{class:"btn btn-outline-danger btn-sm d-block w-100",onClick:e[3]||(e[3]=function(t){return r.tempProduct.imagesUrl.pop()})}," 刪除圖片 ")]))])):(Object(o["v"])(),Object(o["d"])("div",B,[Object(o["h"])("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:e[4]||(e[4]=function(){return a.createImages&&a.createImages.apply(a,arguments)})}," 新增陣列圖片 ")]))]),Object(o["h"])("div",T,[Object(o["h"])("div",F,[H,Object(o["O"])(Object(o["h"])("input",{id:"title","onUpdate:modelValue":e[5]||(e[5]=function(t){return r.tempProduct.title=t}),type:"text",class:"form-control",placeholder:"請輸入標題"},null,512),[[o["J"],r.tempProduct.title]])]),Object(o["h"])("div",K,[Object(o["h"])("div",Q,[W,Object(o["O"])(Object(o["h"])("select",{class:"form-control","onUpdate:modelValue":e[6]||(e[6]=function(t){return r.tempProduct.category=t})},[X,Y,Z,tt,et,ct],512),[[o["I"],r.tempProduct.category]])]),Object(o["h"])("div",ot,[nt,Object(o["O"])(Object(o["h"])("select",{class:"form-control","onUpdate:modelValue":e[7]||(e[7]=function(t){return r.tempProduct.unit=t})},[rt,at,lt,it,st,dt,ut,bt],512),[[o["I"],r.tempProduct.unit]])])]),Object(o["h"])("div",pt,[Object(o["h"])("div",ht,[Ot,Object(o["O"])(Object(o["h"])("input",{id:"origin_price","onUpdate:modelValue":e[8]||(e[8]=function(t){return r.tempProduct.origin_price=t}),type:"number",min:"1",class:"form-control",placeholder:"請輸入數字"},null,512),[[o["J"],r.tempProduct.origin_price,void 0,{number:!0}]])]),Object(o["h"])("div",jt,[mt,Object(o["O"])(Object(o["h"])("input",{id:"price","onUpdate:modelValue":e[9]||(e[9]=function(t){return r.tempProduct.price=t}),type:"number",min:"0",class:"form-control",placeholder:"請輸入售價"},null,512),[[o["J"],r.tempProduct.price,void 0,{number:!0}]])])]),ft,Object(o["h"])("div",gt,[vt,Object(o["O"])(Object(o["h"])("textarea",{id:"description","onUpdate:modelValue":e[10]||(e[10]=function(t){return r.tempProduct.description=t}),type:"text",class:"form-control",placeholder:"請輸入課程描述"},"\n                ",512),[[o["J"],r.tempProduct.description]])]),Object(o["h"])("div",yt,[Pt,Object(o["O"])(Object(o["h"])("textarea",{id:"content","onUpdate:modelValue":e[11]||(e[11]=function(t){return r.tempProduct.content=t}),type:"text",class:"form-control",placeholder:"請輸入說明內容"},"\n                ",512),[[o["J"],r.tempProduct.content]])]),Object(o["h"])("div",kt,[Object(o["h"])("div",wt,[Object(o["O"])(Object(o["h"])("input",{id:"is_enabled","onUpdate:modelValue":e[12]||(e[12]=function(t){return r.tempProduct.is_enabled=t}),class:"form-check-input",type:"checkbox","true-value":1,"false-value":0},null,512),[[o["G"],r.tempProduct.is_enabled]]),xt])])])])]),Object(o["h"])("div",Ut,[Object(o["h"])("div",{class:["text-center",{"d-none":0==r.loading}]},[_t],2),Object(o["h"])("button",{type:"button",class:["btn btn-outline-secondary",{"d-none":1==r.loading}],"data-bs-dismiss":"modal"}," 取消 ",2),Object(o["h"])("button",{type:"button",class:["btn btn-primary",{"d-none":1==r.loading}],onClick:e[13]||(e[13]=function(t){return a.updateProduct(r.tempProduct)})}," 確認 ",2)])])])],512)}var Dt={props:["product"],data:function(){return{tempProduct:{},status:"",modal:"",loading:!1}},watch:{product:function(){this.tempProduct=this.product},loading:function(){this.status=this.loading}},mounted:function(){this.modal=new bootstrap.Modal(this.$refs.modal)},methods:{createImages:function(){this.tempProduct.imagesUrl=[""]},updateProduct:function(t){var e=this;this.loading=!0,t.checkBtn="0";var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jimnycourse","/admin/product"),o="post";t.id&&(c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jimnycourse","/admin/product/").concat(t.id),o="put"),this.$http[o](c,{data:t}).then((function(t){t.data.success?(e.$emit("render"),e.loading=!1,e.hideModal()):(alert(t.data.message),e.loading=!1)})).catch((function(t){console.log(t)}))},openModal:function(){this.modal.show()},hideModal:function(){this.modal.hide()}}};Dt.render=Ct;var Mt=Dt,$t={data:function(){return{loadingStatus:"",products:[],product:{},pagination:{},isNew:!1}},components:{Pagination:_,Checkdele:C["a"],Addedit:Mt},methods:{logOut:function(){document.cookie="hexToken=;expires=;",this.$router.push("/")},getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jimnycourse","/admin/products?page=").concat(e);this.$http.get(c).then((function(e){e.data.success&&(t.products=e.data.products,t.pagination=e.data.pagination)}))},openModal:function(t,e){this.isNew=t,this.isNew?this.product={}:this.product=P({},e),this.$refs.addedit.openModal()},checkDelete:function(t){this.product=t,this.$refs.check.openModal()},deleteProduct:function(t){var e=this;this.loadingStatus=t;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jimnycourse","/admin/product/").concat(t);this.$http.delete(c).then((function(t){t.data.success&&(e.getProducts(),e.loadingStatus="",e.$refs.check.hideModal())}))}},created:function(){this.getProducts()}};$t.render=g;e["default"]=$t},dbb4:function(t,e,c){var o=c("23e7"),n=c("83ab"),r=c("56ef"),a=c("fc6a"),l=c("06cf"),i=c("8418");o({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,c,o=a(t),n=l.f,s=r(o),d={},u=0;while(s.length>u)c=n(o,e=s[u++]),void 0!==c&&i(d,e,c);return d}})},e439:function(t,e,c){var o=c("23e7"),n=c("d039"),r=c("fc6a"),a=c("06cf").f,l=c("83ab"),i=n((function(){a(1)})),s=!l||i;o({target:"Object",stat:!0,forced:s,sham:!l},{getOwnPropertyDescriptor:function(t,e){return a(r(t),e)}})}}]);
//# sourceMappingURL=chunk-660e383c.73012008.js.map